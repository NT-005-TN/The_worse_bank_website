<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã</title>
    <style>
        /* –û–±—â–∏–µ —Å—Ç–∏–ª–∏ */
        body {
            font-family: Arial, sans-serif;
            color: white;
            text-align: center;
            padding: 20px;
            margin: 0;
            background-image: url('https://via.placeholder.com/1920x1080'); /* –§–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ */
            background-size: cover; /* –†–∞—Å—Ç—è–≥–∏–≤–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ */
            background-position: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ */
            background-repeat: no-repeat; /* –ó–∞–ø—Ä–µ—â–∞–µ–º –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ */
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 20px;
        }

        .wheel-container {
            position: relative;
            width: 300px;
            height: 300px;
            margin: 0 auto;
            margin-bottom: 20px;
        }

        .wheel {
            position: relative;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            overflow: hidden;
            transform: rotate(0deg);
            transition: transform 5s ease-out;
        }

        .segment {
            position: absolute;
            width: 50%;
            height: 50%;
            left: 50%;
            top: 0;
            transform-origin: bottom left;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
            text-shadow: 1px 1px 2px black;
            cursor: pointer;
        }

        .pointer {
            position: absolute;
            top: -20px;
            left: 50%;
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-bottom: 20px solid red;
            transform: translateX(-50%);
        }

        /* –¶–≤–µ—Ç–∞ —Å–µ–∫—Ç–æ—Ä–æ–≤ */
        .segment:nth-child(1) { transform: rotate(0deg) skewY(-54deg); background-color: #ff7f50; }
        .segment:nth-child(2) { transform: rotate(36deg) skewY(-54deg); background-color: #6a5acd; }
        .segment:nth-child(3) { transform: rotate(72deg) skewY(-54deg); background-color: #ff4500; }
        .segment:nth-child(4) { transform: rotate(108deg) skewY(-54deg); background-color: #32cd32; }
        .segment:nth-child(5) { transform: rotate(144deg) skewY(-54deg); background-color: #1e90ff; }
        .segment:nth-child(6) { transform: rotate(180deg) skewY(-54deg); background-color: #daa520; }
        .segment:nth-child(7) { transform: rotate(216deg) skewY(-54deg); background-color: #ff69b4; }
        .segment:nth-child(8) { transform: rotate(252deg) skewY(-54deg); background-color: #8a2be2; }
        .segment:nth-child(9) { transform: rotate(288deg) skewY(-54deg); background-color: #20b2aa; }
        .segment:nth-child(10) { transform: rotate(324deg) skewY(-54deg); background-color: #ff8c00; }

        /* –ü–æ–¥–ø–∏—Å–∏ –Ω–∞ —Å–µ–∫—Ç–æ—Ä–∞—Ö */
        .segment::before {
            content: attr(data-label);
            font-size: 12px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) skewY(54deg);
            font-weight: bold;
            color: white;
            text-shadow: 1px 1px 2px black;
            text-align: center;
            width: 80%;
        }

        /* –ö–Ω–æ–ø–∫–∞ "–ö—Ä—É—Ç–∏—Ç—å!" */
        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            background-color: #2ecc71;
            border: none;
            border-radius: 5px;
            color: white;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #27ae60;
        }

        /* –†–µ–∑—É–ª—å—Ç–∞—Ç */
        #result {
            margin-top: 20px;
            font-size: 1.2rem;
            font-weight: bold;
            min-height: 40px;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è */
        #final-image {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 9999;
        }

        /* –ó–∞—Ç–µ–º–Ω–µ–Ω–∏–µ —Ñ–æ–Ω–∞ */
        body.fullscreen-image {
            overflow: hidden;
            background-color: rgba(0, 0, 0, 0.8);
        }
    </style>
</head>
<body>
    <h1>–ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã</h1>

    <div class="wheel-container">
        <div class="wheel" id="wheel">
            <!-- –°–µ–∫—Ç–æ—Ä—ã –∫–æ–ª–µ—Å–∞ -->
            <div class="segment" data-label="–ü–æ—á–µ–º—É —Ç–∞–∫ –∂–∏—Ç—å?"></div>
            <div class="segment" data-label="–ö–æ—Ç–∏–∫ —Å–ø–∏—Ç"></div>
            <div class="segment" data-label="–£–¥–∞—á–∏ –Ω–µ—Ç"></div>
            <div class="segment" data-label="–í—Å—ë —Å–ª–æ–º–∞–ª–æ—Å—å"></div>
            <div class="segment" data-label="–¢—ã –∫—Ä–∞—Å–∞–≤—á–∏–∫"></div>
            <div class="segment" data-label="–ú–µ–º –ø—Ä–æ –∂–∏–∑–Ω—å"></div>
            <div class="segment" data-label="–õ–µ–Ω—å –¥–≤–∏–≥–∞–µ—Ç"></div>
            <div class="segment" data-label="–°–µ–≥–æ–¥–Ω—è –Ω–µ —Ç–≤–æ–π –¥–µ–Ω—å"></div>
            <div class="segment" data-label="–ê —Ç—ã –¥—É–º–∞–ª?"></div>
            <div class="segment" data-label="–î–ñ–ï–ö–ü–û–¢ –ú–ï–ú!"></div>
            <div class="pointer"></div>
        </div>
    </div>

    <button id="spin-btn">–ö—Ä—É—Ç–∏—Ç—å!</button>
    <div id="result"></div>
    <img id="final-image" src="/static/40c78c7fc6456787654567898765434567.jpg" alt="Final Image">

    <script>
        // –ú–∞—Å—Å–∏–≤ —Å —à—É—Ç–æ—á–∫–∞–º–∏ –æ—Ç –§–æ—Ä—Ç—É–Ω—ã
        const jokes = [
            "–ù–µ —Ä–∞—Å—Å—Ç—Ä–∞–∏–≤–∞–π—Å—è, –∑–∞–≤—Ç—Ä–∞ –ø–æ–≤–µ–∑—ë—Ç... –∏–ª–∏ –Ω–µ—Ç üòÑ",
            "–Ø –∂–µ –≥–æ–≤–æ—Ä–∏–ª–∞, —á—Ç–æ —É–¥–∞—á–∞ ‚Äî —ç—Ç–æ –º–∏—Ñ ü§∑‚Äç‚ôÄÔ∏è",
            "–•–∞-—Ö–∞, –∞ —Ç—ã –¥—É–º–∞–ª, —á—Ç–æ –≤—ã–∏–≥—Ä–∞–µ—à—å? ü§£",
            "–ú–æ–∂–µ—Ç, –ø–æ–ø—Ä–æ–±—É–µ—à—å –µ—â—ë —Ä–∞–∑? –•–æ—Ç—è... –Ω–µ—Ç üòÇ",
            "–§–æ—Ä—Ç—É–Ω–∞ —Å–µ–≥–æ–¥–Ω—è –Ω–µ –≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–∏ üö´",
            "–¢—ã —Ç–æ—á–Ω–æ –∑–Ω–∞–µ—à—å, —á—Ç–æ –¥–µ–ª–∞–µ—à—å? ü§î",
            "–ù—É —á—Ç–æ, –≥–æ—Ç–æ–≤ –∫ –Ω–æ–≤—ã–º –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è–º? –ê—Ö –¥–∞, –∏—Ö –Ω–µ—Ç üòÖ",
            "–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–≤–æ–µ–≥–æ —Ç–µ—Ä–ø–µ–Ω–∏—è üòâ",
            "–£–¥–∞—á–∏? –ó–¥–µ—Å—å –µ—ë –Ω–µ—Ç, —Ç–æ–ª—å–∫–æ —Ö–∞–æ—Å üòà",
            "–î–ñ–ï–ö–ü–û–¢! –ê, –Ω–µ—Ç, —ç—Ç–æ –±—ã–ª–∞ —à—É—Ç–∫–∞ ü§™"
        ];

        document.getElementById('spin-btn').addEventListener('click', () => {
            fetch('/casino', { method: 'POST' })
                .then(response => response.json())
                .then(data => {
                    const result = data.result;
                    const balance = data.balance;
                    const isFinalSpin = data.final_spin;

                    // –í—ã—á–∏—Å–ª—è–µ–º —É–≥–æ–ª –≤—Ä–∞—â–µ–Ω–∏—è
                    const segmentCount = 10;
                    const randomAngle = Math.floor(Math.random() * 360) + segmentCount * 720; // –ú–∏–Ω–∏–º—É–º 2 –ø–æ–ª–Ω—ã—Ö –æ–±–æ—Ä–æ—Ç–∞
                    const wheel = document.getElementById('wheel');

                    // –ü–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –∫–æ–ª–µ—Å–æ
                    wheel.style.transform = `rotate(${randomAngle}deg)`;

                    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—É—é —à—É—Ç–∫—É
                    const randomJoke = jokes[Math.floor(Math.random() * jokes.length)];

                    // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
                    setTimeout(() => {
                        document.getElementById('result').textContent = `${randomJoke} –†–µ–∑—É–ª—å—Ç–∞—Ç: ${result}. –ë–∞–ª–∞–Ω—Å: ${balance} ‚ÇΩ.`;

                        if (isFinalSpin) {
                            // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –¥–ª—è –∑–∞—Ç–µ–º–Ω–µ–Ω–∏—è —Ñ–æ–Ω–∞
                            document.body.classList.add('fullscreen-image');

                            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
                            const finalImage = document.getElementById('final-image');
                            finalImage.style.display = 'block';

                            // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
                            setTimeout(() => {
                                const message = encodeURIComponent(data.message || '–ù–µ –≤ —ç—Ç–æ—Ç —Ä–∞–∑');
                                window.location.href = `/?message=${message}`;
                            }, 5000); // 5 —Å–µ–∫—É–Ω–¥
                        }
                    }, 5000); // –í—Ä–µ–º—è —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∞–Ω–∏–º–∞—Ü–∏–∏ –≤ CSS
                });
        });

        // –ú–∞—Å—Å–∏–≤ —Å URL-–∞–¥—Ä–µ—Å–∞–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
        const backgroundImages = [
            '/static/image (1).jpg',
            '/static/image (2).jpg',
            '/static/image (3).jpg',
            '/static/image (4).jpg',
            '/static/image (5).jpg',
            '/static/image (7).jpg',
            '/static/image (8).jpg',
            '/static/image (9).jpg'
        ];

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Ñ–æ–Ω–∞
        function setRandomBackground() {
            const randomIndex = Math.floor(Math.random() * backgroundImages.length);
            document.body.style.backgroundImage = `url('${backgroundImages[randomIndex]}')`;
        }

        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π —Ñ–æ–Ω –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        setRandomBackground();
    </script>
</body>
</html>